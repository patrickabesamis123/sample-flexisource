{"version":3,"sources":["homepage.controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"homepage.controller.min.js","sourcesContent":["(function() {\r\n  'use strict';\r\n  var app = angular.module('app');\r\n  var base_url = $('body').data('base_url');\r\n\r\n  app.controller('HomeController', [\r\n    'GlobalConstant',\r\n    '$scope',\r\n    '$cookies',\r\n    '$window',\r\n    '$http',\r\n    '$filter',\r\n    '$timeout',\r\n    '$location',\r\n    function(GlobalConstant, $scope, $cookies, $window, $http, $filter, $timeout, $location) {\r\n      //Deprecated\r\n      //{imgpath: \"\", title: \"\", width: \"\", height: \"\"}\r\n      $scope.EmployerSlider = [\r\n        {\r\n          imgpath: '/images/homepage/iconset/icon1-new.png',\r\n          title:\r\n            'Promote your brand and online presence with a customised profile and company page',\r\n          width: '35',\r\n          height: '54',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/icon2-new.png',\r\n          title:\r\n            'Ask video and text questions to understand candidateâ€™s skills, capability and cultural fit',\r\n          width: '48',\r\n          height: '49',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/icon3-new.png',\r\n          title:\r\n            'Save time processing applicants with pre-application questions from your minimum requirements',\r\n          width: '41',\r\n          height: '46',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/icon4-new.png',\r\n          title: 'Our service is free',\r\n          width: '49',\r\n          height: '42',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/icon5-new.png',\r\n          title: 'Reports and analytics will allow you to recruit through data driven insights',\r\n          width: '53',\r\n          height: '36',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/emp-icon6@2x.png',\r\n          title: 'Track and manage applicants with the easy drag and drop system',\r\n          width: '56',\r\n          height: '54',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/emp-icon2@2x.png',\r\n          title: 'Dashboards to have complete transparency over the response to your listings',\r\n          width: '44',\r\n          height: '42',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/emp-icon3.png',\r\n          title: 'Keep updated with notifications and trackable conversations',\r\n          width: '39',\r\n          height: '49',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/emp-icon4.png',\r\n          title: 'Distribute roles using social media',\r\n          width: '40',\r\n          height: '33',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/icon1-new.png',\r\n          title:\r\n            'Promote your brand and online presence with a customised profile and company page',\r\n          width: '35',\r\n          height: '54',\r\n        },\r\n      ];\r\n\r\n      var color_bg_initial_set = [\r\n        'member-initials--sky',\r\n        'member-initials--pvm-purple',\r\n        'member-initials--pvm-green',\r\n        'member-initials--pvm-red',\r\n        'member-initials--pvm-yellow',\r\n      ];\r\n\r\n      $scope.batchEmployer = Math.ceil($scope.EmployerSlider.length / 5);\r\n      $scope.employerby5items = [];\r\n      var x = 0;\r\n      while (x < $scope.batchEmployer) {\r\n        if (x != 0) {\r\n          var startthis = x * 5;\r\n        } else {\r\n          var startthis = x;\r\n        }\r\n        $scope.employerby5items.push({ start: startthis, end: (x + 1) * 5 });\r\n\r\n        x++;\r\n      }\r\n\r\n      $scope.CandidateSlider = [\r\n        {\r\n          imgpath: '/images/homepage/iconset/cand-icon1@2x.png',\r\n          title: 'Video feature to showcase your personality, skills and experience',\r\n          width: '53',\r\n          height: '51',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/cand-icon2@2x.png',\r\n          title: 'Receive feedback on all your applications',\r\n          width: '45',\r\n          height: '37',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/cand-icon3@2x.png',\r\n          title: 'The dashboard allows you to track and manage all your applications',\r\n          width: '44',\r\n          height: '42',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/cand-icon4@2x.png',\r\n          title: 'Intelligent algorithms to match and notify you so you never miss an opportunity',\r\n          width: '64',\r\n          height: '54',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/cand-icon5@2x.png',\r\n          title: 'Faster to apply - one profile for all jobs',\r\n          width: '73',\r\n          height: '26',\r\n        },\r\n\r\n        {\r\n          imgpath: '/images/homepage/iconset/cand-icon6@2x.png',\r\n          title: 'View employer profiles before you apply',\r\n          width: '43',\r\n          height: '48',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/cand-icon7@2x.png',\r\n          title: 'Our service is completely free',\r\n          width: '49',\r\n          height: '42',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/cand-icon1@2x.png',\r\n          title: 'Video feature to showcase your personality, skills and experience',\r\n          width: '53',\r\n          height: '51',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/cand-icon2@2x.png',\r\n          title: 'Receive feedback on all your applications',\r\n          width: '45',\r\n          height: '37',\r\n        },\r\n        {\r\n          imgpath: '/images/homepage/iconset/cand-icon3@2x.png',\r\n          title: 'The dashboard allows you to track and manage all your applications',\r\n          width: '44',\r\n          height: '42',\r\n        },\r\n      ];\r\n\r\n      $scope.batchCandidate = Math.ceil($scope.CandidateSlider.length / 5);\r\n      $scope.candidateby5items = [];\r\n      var x = 0;\r\n      while (x < $scope.batchCandidate) {\r\n        if (x != 0) {\r\n          var startthis = x * 5;\r\n        } else {\r\n          var startthis = x;\r\n        }\r\n        $scope.candidateby5items.push({ start: startthis, end: (x + 1) * 5 });\r\n        x++;\r\n      }\r\n\r\n      //Change banner bg on reload\r\n      if ($cookies.get('home') == '1') {\r\n        $cookies.put('home', '2', { path: '/' });\r\n        $scope.GBClass = 'alternate2';\r\n      } else {\r\n        $cookies.put('home', '1', { path: '/' });\r\n        $scope.GBClass = 'alternate1';\r\n      }\r\n\r\n      $scope.hideme = true;\r\n      $scope.locations = [];\r\n      $http.get(GlobalConstant.StaticOptionLocationsApi + '/regions').then(function(response) {\r\n        $scope.locations = response.data.data;\r\n      });\r\n\r\n      var typingTimer; //timer identifier\r\n      var doneTypingInterval = 10;\r\n      var idx = 0;\r\n      $('#locationSearch').on('keyup', function(e) {\r\n\r\n        if ((e.which >= 37 && e.which <= 40) || e.which == 13) {\r\n          var li = $('#autoDataLocation li');\r\n          if (li.length) {\r\n            if (e.which == 40) {\r\n              if (!li.hasClass('selected_filter')) {\r\n                li.removeClass('selected_filter');\r\n                $('#autoDataLocation li:eq(' + idx + ')').addClass('selected_filter');\r\n              } else {\r\n                idx = $('#autoDataLocation li.selected_filter').prevAll().length + 1;\r\n                $('#autoDataLocation li').removeClass('selected_filter');\r\n\r\n                if ($('#autoDataLocation li:eq(' + idx + ')').nextAll().length == 0) {\r\n                  idx = li.length - 1;\r\n                }\r\n\r\n                $('#autoDataLocation li:eq(' + idx + ')').addClass('selected_filter');\r\n              }\r\n            } else if (e.which == 38) {\r\n              if (li.hasClass('selected_filter')) {\r\n                idx--;\r\n                idx = idx <= 0 ? 0 : idx;\r\n                //console.log(idx)\r\n                li.removeClass('selected_filter');\r\n                $('#autoDataLocation li:eq(' + idx + ')').addClass('selected_filter');\r\n              }\r\n            } else if (e.which == 13) {\r\n              var userOption = $('#autoDataLocation li:eq(' + idx + ')')\r\n                .find('a')\r\n                .text();\r\n              $('#locationSearch').val(userOption);\r\n              $('#autoDataContainer').addClass('ng-hide');\r\n              idx = 0;\r\n            }\r\n          }\r\n          return false;\r\n        }\r\n        $timeout.cancel(typingTimer);\r\n        typingTimer = $timeout(doneTyping, doneTypingInterval);\r\n      });\r\n\r\n      $('#locationSearch').change(function() {\r\n        $('#autoDataLocation').on('click', 'li', function() {\r\n          $('#locationSearch').val(\r\n            $(this)\r\n              .find('a')\r\n              .text(),\r\n          );\r\n          if (!$('#autoDataContainer').hasClass('ng-hide')) {\r\n            $('#autoDataContainer').addClass('ng-hide');\r\n          }\r\n          idx = 0;\r\n        });\r\n      });\r\n\r\n      $scope.filterbutton = true;\r\n      $scope.selectedParams = {};\r\n      $scope.selectedParams.keyword = '';\r\n      $scope.selectedParams.role_type = [];\r\n      $scope.selectedParams.classification = [];\r\n      $scope.selectedParams.subclassification = [];\r\n      $scope.selectedParams.location = [];\r\n\r\n      function getClassifications() {\r\n        \r\n        $scope.classifications = [];\r\n        $http\r\n          .get(window.location.origin  + '/api/industries/list-parent-and-sub')\r\n          .then(function(response) {\r\n            $scope.classifications = response.data;\r\n          });\r\n      }\r\n      getClassifications();\r\n      $scope.getAutoCompleteData = function(data) {\r\n        //console.log(data)\r\n        //$scope.location.data.display_name = data.display_name;\r\n        //$scope.location.data.id = data.id;\r\n        angular.element($('input[name=areaid]')).val(data.id);\r\n        angular.element($('input[name=area]')).val(data.display_name);\r\n        $scope.selectedParams.location.push({ display_name: data.display_name, area_id: data.id });\r\n        angular.element($('#autoDataContainer')).hide();\r\n      };\r\n\r\n      //user is \"finished typing,\" do something\r\n      function doneTyping() {\r\n        $scope.autoLocation = [];\r\n        $http\r\n          .get(window.location.origin  + '/api/location/auto-complete-search/'+$scope.searchLocation)\r\n          .then(function(response) {\r\n            $scope.autoLocation = response.data;\r\n            if ($scope.autoLocation.length >= 1) {\r\n              //$('#autoDataContainer').addClass('ng-hide');\r\n              $('#autoDataContainer').removeClass('ng-hide');\r\n              $('#autoDataContainer').show();\r\n              $('#autoDataLocation').removeClass('ng-hide');\r\n              $('#autoDataLocation').show();\r\n            } else {\r\n              //console.log('has result')\r\n              //$('#autoDataContainer').removeClass('ng-hide');\r\n              $('#autoDataContainer').addClass('ng-hide');\r\n              $('#autoDataContainer').hide();\r\n              $('#autoDataLocation').addClass('ng-hide');\r\n              $('#autoDataLocation').hide();\r\n            }\r\n            // console.log($scope.autoLocation.length);\r\n            // console.log($scope.autoLocation);\r\n          });\r\n      }\r\n\r\n      //$scope.newLocation = \"\"\r\n      // $scope.$watch('searchLocation', function(newVal, oldVal){\r\n      //  $scope.newLocation = newVal\r\n      // })\r\n      $scope.selectedParams.classification = [];\r\n      $scope.selectedParams.subclassification = [];\r\n      $scope.selectClassification = function(industry) {\r\n        \r\n        \r\n        if($scope.selectedParams.classification.indexOf(industry) !== -1) {\r\n          var index = $scope.selectedParams.classification.indexOf(industry);\r\n          $scope.selectedParams.classification.splice(index, 1);     \r\n        } else {\r\n          $scope.selectedParams.classification.push(industry);\r\n        }\r\n      };\r\n      $scope.selectSubClassification = function(sub_industry) {\r\n        \r\n        if($scope.selectedParams.subclassification.indexOf(sub_industry) !== -1) {\r\n          var index = $scope.selectedParams.subclassification.indexOf(sub_industry);\r\n          $scope.selectedParams.subclassification.splice(index, 1);     \r\n        } else {\r\n          $scope.selectedParams.subclassification.push(sub_industry);\r\n        }\r\n      };\r\n\r\n      $scope.selectRoleType = function(role_type) {\r\n        \r\n        if($scope.selectedParams.role_type.indexOf(role_type) !== -1) {\r\n          var index = $scope.selectedParams.role_type.indexOf(role_type);\r\n          $scope.selectedParams.role_type.splice(index, 1);\r\n          $('.role_type_' + role_type).removeClass('ui-checkbox-on');\r\n          $('.role_type_' + role_type).addClass('ui-checkbox-off');\r\n        } else {\r\n          $scope.selectedParams.role_type.push(role_type);\r\n          $('.role_type_' + role_type).removeClass('ui-checkbox-off');\r\n          $('.role_type_' + role_type).addClass('ui-checkbox-on');\r\n        }\r\n      };\r\n\r\n      $scope.SeachJob = function() {\r\n        var message = \"\";\r\n        $scope.min_salary = $('#min_salary').val();\r\n        $scope.max_salary = $('#max_salary').val();\r\n        \r\n        var search_type='&search_type=job';\r\n        var role_type='&role_type=';\r\n        if ($scope.selectedParams.role_type.length != 0) {\r\n          var role_type = '&role_type=' + $scope.selectedParams.role_type.toString();\r\n        } \r\n\r\n        if ($scope.min_salary == '0' && $scope.max_salary == '200000') {\r\n          var range = '&min_salary=0&max_salary=200000';\r\n        } else {\r\n          var range = '&min_salary=' + $scope.min_salary + '&max_salary=' + $scope.max_salary;\r\n        }\r\n\r\n        var country = '&country=';\r\n\r\n        var searchLocation = '&state=&area=';\r\n        if ($scope.selectedParams.location.length != 0) {\r\n          searchLocation = '&state=1&area=' + $scope.selectedParams.location[0].area_id;\r\n        }\r\n\r\n        var location = '&location=';\r\n        $scope.max_salary = $('#locationSearch').val();\r\n\r\n        if ($scope.max_salary  != '' ) {\r\n          var location = location + $scope.max_salary;\r\n        }\r\n\r\n        var searchitem = '';\r\n\r\n        if (angular.isDefined($scope.selectedParams.keyword)) {\r\n          var searchitem = $scope.selectedParams.keyword;\r\n        }\r\n        var industry = '&industry=';\r\n\r\n        if ($scope.selectedParams.classification.length != 0) {\r\n          console.log($scope.selectedParams.classification.toString());\r\n          var industry = '&industry=' + $scope.selectedParams.classification.toString();\r\n        } \r\n\r\n        var sub_industry = '&sub_industry=';\r\n\r\n        if ($scope.selectedParams.subclassification.length != 0) {\r\n          var sub_industry = '&sub_industry=' + $scope.selectedParams.subclassification.toString();\r\n        } \r\n        var offset = '&offset=0';\r\n        var searchUrl = 'q=' + searchitem + industry + sub_industry + range + searchLocation + role_type + country + offset + location + search_type;\r\n        console.log(searchUrl);\r\n        $window.location.href = '/job-search/#?' + searchUrl;\r\n      };\r\n\r\n      //New Homepage Start\r\n      if ($('#about_video').length) {\r\n        var vidDuration = 0,\r\n          intWhole,\r\n          intFloating;\r\n        var myPlayer = amp(\r\n          'about_video',\r\n          {\r\n            techOrder: ['azureHtml5JS', 'flashSS', 'silverlightSS', 'html5'],\r\n            nativeControlsForTouch: false,\r\n            autoplay: true,\r\n            controls: true,\r\n            width: '503',\r\n            height: '230',\r\n            logo: {\r\n              enabled: false,\r\n            },\r\n            poster: '',\r\n          },\r\n          function() {\r\n            // console.log('Good to go!');\r\n            // add an event listener\r\n            this.addEventListener('ended', function() {\r\n              // console.log(\"where you at playing boye (ended): \", this.currentTime());\r\n              // alert(\"DONE!\");\r\n            });\r\n\r\n            this.addEventListener('play', function() {\r\n              // console.log(\"play shet!\");\r\n              // console.log(\"where you at: \", this.currentTime());\r\n              // alert(\"ya boye\");\r\n            });\r\n\r\n            this.addEventListener('start', function() {\r\n              // console.log(\"start shet!\", $scope.shite);\r\n\r\n              vidDuration = this.duration();\r\n              intWhole = parseInt(vidDuration, 10);\r\n              intWhole = intWhole / 60;\r\n              intFloating = intWhole % 1;\r\n              intWhole = parseInt(intWhole, 10);\r\n              intFloating = intFloating.toFixed(2);\r\n              intFloating = 0.6 * intFloating;\r\n              intFloating = Math.round(intFloating * 100) / 100;\r\n              vidDuration = intWhole + intFloating;\r\n              // console.log(\"total duration: \", vidDuration);\r\n            });\r\n\r\n            // this.addEventListener('timeupdate', function () {\r\n            //  console.log(\"where you at playing boye: \", this.currentTime());\r\n            // });\r\n\r\n            this.addEventListener('midpoint', function() {\r\n              // console.log(\"where you at playing boye (midpoint): \", this.currentTime());\r\n            });\r\n\r\n            this.addEventListener('firstquartile', function() {\r\n              // console.log(\"where you at playing boye (firstquartile): \", this.currentTime());\r\n            });\r\n          },\r\n        );\r\n\r\n        myPlayer.src([\r\n          {\r\n            // src: 'https://pvmlive.streaming.mediaservices.windows.net/e58e3f83-0904-4886-836e-ac28303831fe/INTRO VID.ism/manifest',\r\n            src:\r\n              'https://518761399c1a4eb19173af408d10c8d6.azureedge.net/d094ce61-de38-4620-89bf-146d79233936/Preview Me_FINAL.ism/manifest',\r\n            type: 'application/vnd.ms-sstr+xml',\r\n          },\r\n        ]);\r\n      }\r\n\r\n      $scope.ShowHide = function() {\r\n        $scope.filterbutton = $scope.filterbutton ? false : true;\r\n      };\r\n\r\n      angular.element($('#moreFilter'), $('#hideFilter')).click(function() {\r\n        angular.element($('#toggleFilter')).slideToggle('slow', function() {});\r\n      });\r\n\r\n      $scope.job_types = [];\r\n      $http.get(window.location.origin + '/api/work-types').then(function(response) {\r\n        $scope.job_types = response.data;\r\n      });\r\n\r\n      //Get All indsutries\r\n      // $http.get(  GlobalConstant.APIRoot + 'static/options/industries/all' ) //Uncomment for live API call\r\n      $http\r\n        .get(window.location.origin + '/js/minified/test-data/test_job_listing_data.json')\r\n        .then(function(response) {\r\n          var data = response.data.data;\r\n          $scope.all_industries = data;\r\n          //console.log($scope.all_industries)\r\n        });\r\n\r\n      $scope.parentClassifications = null;\r\n      $scope.hoverIndustry = function(data, parentClassifications) {\r\n        $scope.SubsClassifications = data;\r\n        $scope.parentClassifications = parentClassifications;\r\n      };\r\n\r\n      $scope.sub_industry_selected = function(obj) {\r\n        //force parent to check\r\n        if (!angular.element($('#all_industry_' + obj)).is(':checked')) {\r\n          $scope.selectedParams.classification.push(obj);\r\n        }\r\n      };\r\n\r\n      $scope.RemoveChild = function(subdata) {\r\n        //console.log(subdata);\r\n        angular.forEach(subdata, function(val, key) {\r\n          if ($.inArray(val.id, $scope.selectedParams.subclassification, 0) != -1) {\r\n            $scope.selectedParams.subclassification.splice(\r\n              $.inArray(val.id, $scope.selectedParams.subclassification, 0),\r\n            );\r\n          }\r\n        });\r\n        //console.log($scope.selectedParams.subclassification)\r\n      };\r\n\r\n      $scope.checkAll = function(parent) {\r\n        // console.log(parent)\r\n      };\r\n\r\n      $scope.onHoverSubIndustries = true;\r\n\r\n      document.showSubIndustries = function(obj) {\r\n        $scope.onHoverSubIndustries = true;\r\n        if (obj) {\r\n          angular\r\n            .element($(obj))\r\n            .parent()\r\n            .find('.subindustry_multi_main')\r\n            .removeClass('hide');\r\n        }\r\n      };\r\n\r\n      document.hideSubIndustries = function(obj) {\r\n        $scope.onHoverSubIndustries = false;\r\n        setTimeout(function() {\r\n          if ($scope.onHoverSubIndustries == false) {\r\n            $('.togglethis').trigger('click');\r\n            //$(obj).find('.subindustry_multi_main').addClass('hide');\r\n            //$(obj).find('.industry_multi_main').addClass('hide');\r\n          }\r\n        }, 1500);\r\n      };\r\n      //Get Featured jobs\r\n      $http.get(GlobalConstant.APIRoot + 'jobs/featured').then(function(response) {\r\n        var data = response.data.data;\r\n        $scope.featuredJobs = data.results.jobs;\r\n\r\n        // Add initials\r\n        for (var a = 0; a < $scope.featuredJobs.length; a++) {\r\n          var featured_initialize = $scope.featuredJobs[a].company_name;\r\n          var featured_initial = featured_initialize.replace(/[^A-Z]/g, '');\r\n          // var featured_initial;\r\n\r\n          // If no cap letters detected on string, use other method BEGIN\r\n          if (featured_initial.length < 1) {\r\n            var space_count = featured_initialize.split(' ').length - 1;\r\n            var indexed_char = featured_initialize;\r\n            var tempinitial;\r\n\r\n            if (space_count >= 1) {\r\n              var rotator = 0;\r\n              for (var spc_itr_jobs = 0; spc_itr_jobs <= space_count; spc_itr_jobs++) {\r\n                if (spc_itr_jobs == 0) {\r\n                  tempinitial = featured_initialize.substr(0, 1);\r\n                  indexed_char = indexed_char.substr(indexed_char.indexOf(' ') + 1);\r\n                } else {\r\n                  if (\r\n                    indexed_char != -1 &&\r\n                    indexed_char.substr(0, indexed_char.indexOf(' ')) != ''\r\n                  ) {\r\n                    tempinitial = indexed_char.substr(0, indexed_char.indexOf(' '));\r\n                    indexed_char = indexed_char.substr(indexed_char.indexOf(' ') + 1);\r\n                  } else {\r\n                    tempinitial = indexed_char.substr(0, 1);\r\n                  }\r\n                }\r\n                featured_initial = featured_initial + tempinitial.substr(0, 1).toUpperCase();\r\n              }\r\n            } else {\r\n              featured_initial = featured_initialize.substr(0, 3);\r\n            }\r\n          }\r\n          // If no cap letters detected on string, use other method END\r\n          featured_initial = featured_initial.substr(0, 3);\r\n          $scope.featuredJobs[a].initial = featured_initial;\r\n\r\n          // change default photo's background color\r\n          var color_bg_initial =\r\n            color_bg_initial_set[Math.floor(Math.random() * color_bg_initial_set.length)];\r\n          $scope.featuredJobs[a].featured_color = color_bg_initial;\r\n        }\r\n\r\n        // console.log(\"featured jobs: \", $scope.featuredJobs);\r\n        $scope.batchJobs = Math.ceil($scope.featuredJobs.length / 5);\r\n        $scope.jobsby5items = [];\r\n        var x = 0;\r\n        while (x < $scope.batchJobs) {\r\n          if (x != 0) {\r\n            var startthis = x * 5;\r\n          } else {\r\n            var startthis = x;\r\n          }\r\n          $scope.jobsby5items.push({ start: startthis, end: (x + 1) * 5 });\r\n\r\n          x++;\r\n        }\r\n      });\r\n    },\r\n  ]);\r\n})();\r\n\r\n$(document).ready(function() {\r\n  var min = $('#min_salary').val();\r\n  var max = $('#max_salary').val();\r\n\r\n  $('#slider-range .ui-slider-handle:first')\r\n    .addClass('min')\r\n    .html('<div class=\"valueslider\">$' + min + '</div>');\r\n  $('#slider-range .ui-slider-handle:last')\r\n    .addClass('max')\r\n    .html('<div class=\"valueslider\">$' + max.toString().substring(0, 3) + 'K+' + '</div>');\r\n\r\n  $('#min_salary').on('change', function() {\r\n    var minValNow = $('#slider-range .ui-slider-handle:first').attr('aria-valuenow');\r\n    var minstr = minValNow.toString();\r\n    //console.log(minstr.length)\r\n    switch (minstr.length) {\r\n      case 4:\r\n        var minval = minstr.substring(0, 1) + 'K';\r\n        break;\r\n      case 5:\r\n        var minval = minstr.substring(0, 2) + 'K';\r\n        break;\r\n      case 6:\r\n        var minval = minstr.substring(0, 3) + 'K';\r\n        break;\r\n      default:\r\n        var minval = 0;\r\n    }\r\n\r\n    $('#slider-range .ui-slider-handle:first').html(\r\n      '<div class=\"valueslider\">$' + minval + '</div>',\r\n    );\r\n    $('#min_salary').val(minValNow);\r\n  });\r\n\r\n  $('#max_salary').on('change', function() {\r\n    var maxValNow = $('#slider-range .ui-slider-handle:last').attr('aria-valuenow');\r\n    var maxstr = maxValNow.toString();\r\n    switch (maxstr.length) {\r\n      case 4:\r\n        var maxval = maxstr.substring(0, 1) + 'K';\r\n        break;\r\n      case 5:\r\n        var maxval = maxstr.substring(0, 2) + 'K';\r\n        break;\r\n      case 6:\r\n        var maxval = maxstr.substring(0, 3) + 'K';\r\n        break;\r\n      default:\r\n        var maxval = '500K';\r\n    }\r\n\r\n    $('#slider-range .ui-slider-handle:last').html(\r\n      '<div class=\"valueslider\">$' + maxval + '</div>',\r\n    );\r\n    if (maxval == '200K') {\r\n      $('#slider-range .ui-slider-handle:last').html(\r\n        '<div class=\"valueslider\">$' + maxval + '+</div>',\r\n      );\r\n    }\r\n\r\n    if (maxValNow < 180000) {\r\n      $('.ui-slider-bg.ui-btn-active').html('<div class=\"maxValue\">$200K+</div>');\r\n    } else {\r\n      $('.ui-slider-bg.ui-btn-active').html('');\r\n    }\r\n\r\n    $('#max_salary').val(maxValNow);\r\n  });\r\n\r\n  $('input[type=radio][name=user_type]').change(function() {\r\n    if (this.value == 'candidate') {\r\n      $('#HomeContact .action').val('Sign up as a candidate');\r\n      $('#HomeContact .action').removeClass('submitblue whitetext');\r\n      $('#HomeContact .action').addClass('submityellow');\r\n    } else if (this.value == 'employer') {\r\n      $('#HomeContact .action').val('Sign up as an employer');\r\n      $('#HomeContact .action').addClass('submitblue whitetext');\r\n      $('#HomeContact .action').removeClass('submityellow');\r\n    }\r\n  });\r\n\r\n  $('#Tab1 a').click(function(e) {\r\n    e.preventDefault();\r\n    $(this).tab('show');\r\n  });\r\n\r\n  $('.sliderContainer').TrackpadScrollEmulator();\r\n  $('.togglethis').click(function() {\r\n    $('#ClassificationMain').slideToggle(function() {\r\n      if ($('#ClassificationMain').is(':visible')) {\r\n        $('.togglethis').addClass('focusthis');\r\n        // console.log('vs')\r\n      } else if ($('#ClassificationMain').is(':hidden')) {\r\n        // console.log('hidden')\r\n        $('.togglethis').removeClass('focusthis');\r\n      }\r\n    });\r\n  });\r\n\r\n  //Bootstrap Carousel Next Previous custom fix\r\n  var handle_nav = function(e) {\r\n    e.preventDefault();\r\n    var target = $(this).data('target');\r\n\r\n    if ($(this).hasClass('left')) {\r\n      $(target).carousel('next');\r\n    }\r\n\r\n    if ($(this).hasClass('right')) {\r\n      $(target).carousel('next');\r\n    }\r\n  };\r\n\r\n  $('.carouselthis')\r\n    .carousel({\r\n      interval: false,\r\n      wrap: false,\r\n    })\r\n    .on('click', '.carousel-control', handle_nav)\r\n    .on('slid.bs.carousel', function(e) {\r\n      var $this = $(this);\r\n      var getitems = $this.find('.item');\r\n      // console.log( getitems.last().hasClass('active') )\r\n\r\n      if (getitems.last().hasClass('active')) {\r\n        var right = $this.find('.right');\r\n        right.bind('click', function() {\r\n          //getitems.last().removeClass('active');\r\n          //getitems.first().addClass('active');\r\n          // console.log($(this).parent() )\r\n          $(this)\r\n            .parent()\r\n            .carousel(0);\r\n        });\r\n        return false;\r\n      } else {\r\n        var right = $this.find('.right');\r\n        right.unbind('click');\r\n      }\r\n    })\r\n    .swiperight(function(e) {\r\n      e.preventDefault();\r\n      var target = $(this).data('target');\r\n      $(this).carousel('prev');\r\n    })\r\n    .swipeleft(function(e) {\r\n      e.preventDefault();\r\n      var target = $(this).data('target');\r\n      $(this).carousel('next');\r\n    });\r\n});\r\n\r\n//# sourceMappingURL=homepage.controller.min.js.map\r\n"]}